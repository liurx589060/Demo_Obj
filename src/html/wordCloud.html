<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>wordCloud</title>
</head>
<body>
    <div id="container" style="height: 880px; width: 880px;"></div>
    <script src="./js/js2wordcloud.js"></script>
    <script src="./js/jquery-3.0.0.min.js"></script>
    <script>

        var wc = new Js2WordCloud(document.getElementById('container'))
        wc.showLoading({
            backgroundColor: '#fff',
            text: '正在加载词云...',
            effect: 'spin'
        })

        $.getJSON('./files/cay_data.json', function(datas){
          var newDatas = [];
          for(var i = 0 ; i < datas.length ; i++) {
            var size = parseInt(datas[i]['fontSize']);
            var color = '';
            var colors = ['#4889ff','#679dff','#84b0ff','#b2cdff'];
            if(size >= 10*10000) {
              color = colors[0];
            }else if(size >= 800 && size < 10*10000) {
              color = colors[1];
            }else if(size >= 400 && size < 800) {
              color = colors[2];
            }else if(size >= 0 && size < 400) {
              color = colors[3];
            }
            newDatas.push([datas[i]['label'],datas[i]['fontSize'],color]);
          }

          var option = {
            fontSizeFactor: 0.01,                                    // 当词云值相差太大，可设置此值进字体行大小微调，默认0.1
            maxFontSize: 18,                                        // 最大fontSize，用来控制weightFactor，默认60
            minFontSize: 1,
            list: newDatas,
            color: '#15a4fa',
            imageShape: './image/chenanyuan_logo_black.png',
            ellipticity: 1
          }

          wc.hideLoading()
          wc.setOption(option)
        });

        window.onresize = function() {
          wc.resize();
        };
    </script>
</body>
</html>
